<div id="admin-product-form-container " class="p-5">
  <h1>Product Form</h1>
  <div class="product-form">
    <form [formGroup]="productForm">
      <div class="row">
        <div class="col-lg-4 col-md-4 col-sm-12 col-12">
          <mat-form-field appearance="outline">
            <mat-label
              >Select Product Category {{ productData.categoryId }}</mat-label
            >
            <mat-select
              formControlName="productCategory"
              [(ngModel)]="productData.categoryId"
              (selectionChange)="onCategorySelection($event)"
            >
              <mat-option
                *ngFor="let item of listingcategory"
                [value]="item.id"
              >
                {{ item.categoryName }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-12 col-12">
          <mat-form-field appearance="outline">
            <mat-label>Select Product Subcategory</mat-label>
            <mat-select
              formControlName="productSubCategory"
              [(ngModel)]="productData.subCategoryId"
            >
              <mat-option
                *ngFor="let item of filteredSubCategories"
                [value]="item.id"
              >
                {{ item.categoryName }}
              </mat-option>
              <!-- <mat-option value="option">Option</mat-option>
                            <mat-option value="option 1">Option 1 </mat-option>
                            <mat-option value="option 2">Option 2</mat-option>
                            <mat-option value="option 3">Option 3</mat-option> -->
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-12 col-12">
          <mat-form-field hintLabel="Max 100 characters" appearance="outline">
            <mat-label>Product Name</mat-label>
            <input
              matInput
              #input
              maxlength="100"
              formControlName="productName"
              [(ngModel)]="productData.name"
              placeholder="Ex. Nougat"
            />
            <mat-hint align="end">{{ input.value?.length || 0 }}/100</mat-hint>
          </mat-form-field>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-12 col-12">
          <mat-form-field appearance="outline">
            <mat-label>Price</mat-label>
            <input
              matInput
              formControlName="price"
              [(ngModel)]="productData.mrp"
              placeholder="Price"
            />
          </mat-form-field>
        </div>

        <div class="col-lg-4 col-md-4 col-sm-12 col-12">
          <mat-form-field appearance="outline">
            <mat-label>Date of delivery</mat-label>
            <input
              matInput
              formControlName="dateDelivery"
              [matDatepicker]="picker"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="picker"
            ></mat-datepicker-toggle>

            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
          <mat-label>Product Description</mat-label>
          <angular-editor
            formControlName="productDescription"
            [(ngModel)]="productData.description"
            [config]="config"
          ></angular-editor>
        </div>
        <div class="row mt-4">
          <h1>Product Optional fields</h1>
        </div>

        <div class="col-lg-4 col-md-4 col-sm-12 col-12">
          <mat-form-field appearance="outline">
            <mat-label>Select Template</mat-label>
            <mat-select
              formControlName="templateId"
              (selectionChange)="onTemplateSelection($event)"
            >
              <mat-option *ngFor="let item of templateData" [value]="item.id">
                {{ item.templateName }}
              </mat-option>
              <!-- <mat-option value="option">Option</mat-option>
                            <mat-option value="option 1">Option 1 </mat-option>
                            <mat-option value="option 2">Option 2</mat-option>
                            <mat-option value="option 3">Option 3</mat-option> -->
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-12 col-12">
          <mat-form-field appearance="outline">
            <mat-label>Inventory </mat-label>
            <input
              matInput
              formControlName="inventory"
              placeholder="Inventory"
            />
          </mat-form-field>
        </div>

        <div class="col-lg-4 col-md-4 col-sm-12 col-12">
          <mat-form-field appearance="outline">
            <mat-label>Bulk Quantity </mat-label>
            <input
              matInput
              formControlName="bulkQuantity"
              placeholder="Bulk Quantity"
            />
          </mat-form-field>
        </div>

        <div class="col-lg-4 col-md-4 col-sm-12 col-12">
          <mat-form-field appearance="outline">
            <mat-label>Bulk quantity price</mat-label>
            <input
              matInput
              formControlName="bulkPrice"
              placeholder="Bulk quantity price"
            />
          </mat-form-field>
        </div>

        <div class="row" *ngIf="showTemplatefill">
          <div class="col-lg-4 col-md-4 col-sm-12 col-12">
            <mat-form-field
              appearance="outline"
              *ngIf="templateSelected?.tag1 != null"
            >
              <mat-label>{{ templateSelected?.tag1 }}</mat-label>
              <input
                matInput
                #input
                formControlName="tag1"
                placeholder="{{ templateSelected?.tag1 }}"
              />
            </mat-form-field>
          </div>
          <div class="col-lg-4 col-md-4 col-sm-12 col-12">
            <mat-form-field
              appearance="outline"
              *ngIf="templateSelected?.tag2 != null"
            >
              <mat-label>{{ templateSelected?.tag2 }}</mat-label>
              <input
                matInput
                #input
                formControlName="tag2"
                placeholder="{{ templateSelected?.tag2 }}"
              />
            </mat-form-field>
          </div>

          <div class="col-lg-4 col-md-4 col-sm-12 col-12">
            <mat-form-field
              appearance="outline"
              *ngIf="templateSelected?.tag3 != null"
            >
              <mat-label>{{ templateSelected?.tag3 }}</mat-label>
              <input
                matInput
                #input
                formControlName="tag3"
                placeholder="{{ templateSelected?.tag3 }}"
              />
            </mat-form-field>
          </div>

          <div class="col-lg-4 col-md-4 col-sm-12 col-12">
            <mat-form-field
              appearance="outline"
              *ngIf="templateSelected?.tag4 != null"
            >
              <mat-label>{{ templateSelected?.tag4 }}</mat-label>
              <input
                matInput
                #input
                formControlName="tag4"
                placeholder="{{ templateSelected?.tag4 }}"
              />
            </mat-form-field>
          </div>

          <div class="col-lg-4 col-md-4 col-sm-12 col-12">
            <mat-form-field
              appearance="outline"
              *ngIf="templateSelected?.tag5 != null"
            >
              <mat-label>{{ templateSelected?.tag5 }}</mat-label>
              <input
                matInput
                #input
                formControlName="tag5"
                placeholder="{{ templateSelected?.tag5 }}"
              />
            </mat-form-field>
          </div>

          <div class="col-lg-4 col-md-4 col-sm-12 col-12">
            <mat-form-field
              appearance="outline"
              *ngIf="templateSelected?.tag6 != null"
            >
              <mat-label>{{ templateSelected?.tag6 }}</mat-label>
              <input
                matInput
                #input
                formControlName="tag6"
                placeholder="{{ templateSelected?.tag6 }}"
              />
            </mat-form-field>
          </div>
        </div>

        <div class="col-lg-4 col-md-4 col-sm-12 col-12">
          <div>
            <input
              type="file"
              id="fileInput"
              name="fileInput"
              accept="image/*"
              multiple
              (change)="onFileChanged($event)"
            />
          </div>
          <div class="image-body" *ngIf="!!imageData">
              <img [src]="imageData" />
          </div>
        </div>

        <div class="col-lg-12 col-md-12 col-sm-12 col-12">
          <button mat-raised-button color="primary" (click)="onProductSave()">
            Submit
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
